# –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–≤–æ–≥–æ production —Å–µ—Ä–≤–µ—Ä–∞

## ‚úÖ –ì–æ—Ç–æ–≤–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º —Å–µ—Ä–≤–µ—Ä–µ

- [x] –°–æ–∑–¥–∞–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `setup-production-server.sh` (31KB, 773 —Å—Ç—Ä–æ–∫–∏)
- [x] –°–∫—Ä–∏–ø—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ 18 —Ñ—É–Ω–∫—Ü–∏–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [x] –°–æ–∑–¥–∞–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π dotfiles –≤ `/home/yan/dotfiles-repo/`
  - [x] `.zshrc` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zsh (5.4KB)
  - [x] `.p10k.zsh` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Powerlevel10k (91KB)
  - [x] `install-plugins.sh` - —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –ø–ª–∞–≥–∏–Ω–æ–≤ (2.3KB)
  - [x] `install.sh` - –±—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (1.9KB)
  - [x] `README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3.3KB)
- [x] –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ `production-server-setup-guide.md` (58KB)
- [x] –°–æ–∑–¥–∞–Ω `QUICK-START.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –±—ã—Å—Ç—Ä–æ–º—É —Å—Ç–∞—Ä—Ç—É (5.5KB)

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –°–æ–∑–¥–∞—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è dotfiles

```bash
cd /home/yan/dotfiles-repo
git init
git add .
git commit -m "Initial commit: server dotfiles"

# –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub:
# https://github.com/new
# –ù–∞–∑–≤–∞–Ω–∏–µ: server-dotfiles
# Public –∏–ª–∏ Private (–Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä)

git remote add origin https://github.com/yshishenya/server-dotfiles.git
git branch -M main
git push -u origin main
```

**–í–∞–∂–Ω–æ:** URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ —Å–∫—Ä–∏–ø—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–∞–∫:
`https://github.com/yshishenya/server-dotfiles.git`

### 2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä

```bash
# –ò–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
scp /home/yan/setup-production-server.sh root@NEW_SERVER_IP:/root/

# –ò–ª–∏ —á–µ—Ä–µ–∑ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
cat /home/yan/setup-production-server.sh
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–¥ root
ssh root@NEW_SERVER_IP

cd /root
chmod +x setup-production-server.sh
sudo ./setup-production-server.sh
```

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 20-30 –º–∏–Ω—É—Ç

## üîß –ß—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç —Å–∫—Ä–∏–ø—Ç

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `yan` (yshishenya / yshishenya@gmail.com)
  - 3 SSH –∫–ª—é—á–∞ (–ñ–µ–Ω—è, –Ø–Ω x2)
- `alex` (Alexey Fedushin / alexeyfedyshinural@gmail.com)
  - 4 SSH –∫–ª—é—á–∞ (–õ—ë—Ö–∞ x4)
- `deploy` (Deploy Bot / yshishenya@gmail.com)
  - –î–ª—è CI/CD

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Docker** + Docker Compose
- **pyenv** + Python 3.11.9, 3.12.3
- **nvm** + Node.js 18, 20
- **Git** —Å delta

### –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Nginx** (reverse proxy)
- **Certbot** (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã)
- **Fail2ban** (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- **SSH** (—Ç–æ–ª—å–∫–æ –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã)

### –¢–µ—Ä–º–∏–Ω–∞–ª –∏ —É—Ç–∏–ª–∏—Ç—ã
- **Zsh** + Oh My Zsh
- **Powerlevel10k** —Ç–µ–º–∞
- –ü–ª–∞–≥–∏–Ω—ã: git, zsh-autosuggestions, zsh-syntax-highlighting, supervisor, sudo, z
- **bat** - —É–ª—É—á—à–µ–Ω–Ω—ã–π cat
- **eza** - —É–ª—É—á—à–µ–Ω–Ω—ã–π ls
- **fzf** - fuzzy finder
- **ripgrep** - –±—ã—Å—Ç—Ä—ã–π grep
- **fd** - –±—ã—Å—Ç—Ä—ã–π find
- **lazygit** - TUI –¥–ª—è Git
- **lazydocker** - TUI –¥–ª—è Docker
- **delta** - –∫—Ä–∞—Å–∏–≤—ã–π git diff
- **zoxide** - —É–º–Ω—ã–π cd
- **btop** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
- **tldr** - –∫—Ä–∞—Ç–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **tmux** - —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–æ—Ä

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
```
/opt/
‚îú‚îÄ‚îÄ projects/          # –í–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã
‚îî‚îÄ‚îÄ backups/           # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
    ‚îú‚îÄ‚îÄ docker-volumes/
    ‚îî‚îÄ‚îÄ projects/
```

### –£—Ç–∏–ª–∏—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `project-status` - —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ Docker
- `backup-docker-volumes` - –±—ç–∫–∞–ø Docker volumes
- `backup-projects` - –±—ç–∫–∞–ø –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ù–ï –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ root —Å–µ—Å—Å–∏—é!

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤–æ–µ –æ–∫–Ω–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –¥–æ—Å—Ç—É–ø –ø–æ–¥ –Ω–æ–≤—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:
   ```bash
   ssh yan@NEW_SERVER_IP
   ssh alex@NEW_SERVER_IP
   ```
3. –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SSH:
   ```bash
   sudo systemctl restart sshd
   ```

### –ü–∞—Ä–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø–∞—Ä–æ–ª–µ–º: `Pr0ffes4.0`

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞:**
```bash
passwd
```

### Git –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Git:
- `yan`: yshishenya / yshishenya@gmail.com
- `alex`: Alexey Fedushin / alexeyfedyshinural@gmail.com
- `deploy`: Deploy Bot / yshishenya@gmail.com

Git –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è **–ù–ï** —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ dotfiles - –æ–Ω–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.

### SSH –∫–ª—é—á –¥–ª—è deploy

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á:
```bash
cat /home/deploy/.ssh/id_ed25519.pub
```

–î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ GitHub/GitLab –¥–ª—è CI/CD –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∞.

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **QUICK-START.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- **production-server-setup-guide.md** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ (13 —Ä–∞–∑–¥–µ–ª–æ–≤)
- **README-zsh-migration.md** - –º–∏–≥—Ä–∞—Ü–∏—è zsh –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Zsh: `exec zsh`
2. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ `/opt/projects/`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
4. –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —á–µ—Ä–µ–∑ certbot
5. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å Docker Compose –ø—Ä–æ–µ–∫—Ç—ã
6. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º deploy –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –û–±—â–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏
journalctl -xe

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
systemctl status docker
systemctl status nginx
systemctl status fail2ban
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
# Docker
docker --version
docker compose version

# Python
pyenv versions

# Node.js
nvm list

# –£—Ç–∏–ª–∏—Ç—ã
bat --version
eza --version
lazygit --version
```

### –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ Zsh
```bash
~/dotfiles/install-plugins.sh
exec zsh
```

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ.

–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç:
- –†–∞–±–æ—Ç–∞—Ç—å –≤ —É–¥–æ–±–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —É—Ç–∏–ª–∏—Ç–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Python –∏ Node.js —á–µ—Ä–µ–∑ pyenv/nvm
- –î–µ–ø–ª–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç—ã —á–µ—Ä–µ–∑ Docker Compose
- –ö–æ–º–º–∏—Ç–∏—Ç—å –ø–æ–¥ —Å–≤–æ–∏–º–∏ –∏–º–µ–Ω–∞–º–∏ –≤ Git

---

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 2025-11-02
**–ê–≤—Ç–æ—Ä:** Yan Shishenya
